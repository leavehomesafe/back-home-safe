(this["webpackJsonpback-home-safe"]=this["webpackJsonpback-home-safe"]||[]).push([[0],{163:function(e,n,t){"use strict";t.r(n);var i,a,c,o,r,s,d,l,b,j,h,u,x,p,f,O,g,v,m,w,y,k,C,E,S,D,M,I,H,z,R,A,L,Z,U,N,W,q,P,F,T,Y,G,B,K,J,_,Q,V,$,X,ee,ne,te,ie,ae,ce,oe,re,se,de,le,be,je,he,ue,xe,pe,fe,Oe,ge,ve,me,we,ye,ke,Ce,Ee,Se,De=t(0),Me=t.n(De),Ie=t(12),He=t.n(Ie),ze=t(3),Re=t(14),Ae=t(4),Le=t(25),Ze=t(15),Ue=t(195),Ne=t(204),We=t(194),qe=Ae.b.button(i||(i=Object(ze.a)(["\n  display: block;\n  margin: auto;\n  margin-bottom: 16px;\n  font-size: 24px;\n  padding: 10px 0;\n  width: 80%;\n  border-radius: 48px;\n  flex-shrink: 0;\n  max-width: 280px;\n  font-weight: 500;\n\n  ","\n\n  border: 0;\n  outline: none;\n  ","\n\n  &:focus {\n    outline: none;\n    text-decoration: none;\n  }\n"])),(function(e){return e.disabled?"background-color: #D3D3D3;\n        color: #A1A1A1;\n        ":"\n        background-color: #fed426;\n      "}),(function(e){return e.shadowed?"box-shadow: 0px 2px 4px 0px rgba(0, 0, 0, 0.5);":""})),Pe=Object(Ae.b)(qe)(a||(a=Object(ze.a)(["\n  font-size: 16px;\n  padding: 12px 0;\n  width: 90%;\n  font-weight: unset;\n"]))),Fe=t(85),Te=t(97),Ye=t(86),Ge=t.n(Ye),Be=t(2),Ke=function(e){var n=e.value,t=e.onChange,i=e.placeholder,a=e.readOnly,c=Object(Te.a)(e,["value","onChange","placeholder","readOnly"]);return Object(Be.jsx)(Je,Object(Fe.a)({value:n,placeholder:i,readOnly:a,onChange:function(e){t&&t(e.target.value)},async:!0},c))},Je=Object(Ae.b)(Ge.a)(c||(c=Object(ze.a)(["\n  text-align: center;\n  font-size: 32px;\n  background-color: transparent;\n  border: 0;\n  outline: none;\n  margin: 4px 0;\n  color: #fed426;\n  text-shadow: 0px 1px 2px rgba(0, 0, 0, 0.8);\n  width: 100%;\n\n  padding-left: 0;\n  padding-right: 0;\n  line-height: 36px;\n  font-weight: 500;\n\n  &:focus {\n    outline: none;\n  }\n"]))),_e=function(){var e=Object(De.useState)(""),n=Object(Re.a)(e,2),t=n[0],i=n[1];return Object(Be.jsxs)(Qe,{children:[Object(Be.jsxs)(Ve,{children:[Object(Be.jsx)($e,{children:"\u6211\u60f3\u53bb"}),Object(Be.jsx)(Ke,{value:t,onChange:i,placeholder:"\u8f38\u5165\u5730\u5740"})]}),Object(Be.jsxs)(Xe,{children:[Object(Ne.a)(Object(We.a)(t))?Object(Be.jsx)(qe,{disabled:!0,shadowed:!0,children:"\u8a71\u53bb\u5c31\u53bb!"}):Object(Be.jsx)(Le.b,{to:{pathname:"/confirm",search:"?place=".concat(t)},children:Object(Be.jsx)(qe,{shadowed:!0,children:"\u8a71\u53bb\u5c31\u53bb!"})}),Object(Be.jsxs)(en,{children:[Object(Be.jsx)(tn,{to:"/qrReader",children:"\u6383\u7784\u4e8c\u7dad\u78bc"}),Object(Be.jsx)(nn,{orientation:"vertical",flexItem:!0}),Object(Be.jsx)(tn,{to:"/qrGenerator",children:"\u751f\u6210\u4e8c\u7dad\u78bc"})]})]})]})},Qe=Ae.b.div(o||(o=Object(ze.a)(["\n  width: 100%;\n  height: 100%;\n  text-shadow: 0px 1px 2px rgba(0, 0, 0, 0.8);\n  display: flex;\n  flex-direction: column;\n"]))),Ve=Ae.b.div(r||(r=Object(ze.a)(["\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  flex-direction: column;\n"]))),$e=Ae.b.div(s||(s=Object(ze.a)(["\n  color: #ffffff;\n  text-align: center;\n  font-size: 15px;\n"]))),Xe=Ae.b.div(d||(d=Object(ze.a)(["\n  width: 100%;\n  text-align: center;\n  color: #fff;\n  padding: 40px 0;\n  flex-shrink: 0;\n"]))),en=Ae.b.div(l||(l=Object(ze.a)(["\n  display: flex;\n  justify-content: center;\n  width: 100%;\n"]))),nn=Object(Ae.b)(Ue.a)(b||(b=Object(ze.a)(["\n  margin: 0 8px;\n\n  box-shadow: 0px 1px 2px rgba(0, 0, 0, 0.8);\n\n  &.MuiDivider-root {\n    background-color: #fff;\n  }\n"]))),tn=Object(Ae.b)(Le.b)(j||(j=Object(ze.a)(["\n  color: #ffffff;\n  padding: 0 16px;\n"]))),an=t.p+"static/media/cross.d2bbc7f7.svg",cn=t.p+"static/media/tick.6d45b966.svg",on=t(44),rn=t.n(on),sn=t.p+"static/media/crossBlack.aafc0aee.svg",dn=t.p+"static/media/greenTick.5e528318.svg",ln=t(45),bn=function(e){var n=e.isModalOpen,t=e.onCancel,i=e.onConfirm,a=e.selectedAutoLeaveHour,c=e.date,o=Object(De.useState)(a),r=Object(Re.a)(o,2),s=r[0],d=r[1];Object(De.useEffect)((function(){d(a)}),[d,a]);var l=Object(De.useMemo)((function(){return c.add(s,"hour")}),[c,s]);return Object(Be.jsxs)(rn.a,{isOpen:n,onRequestClose:t,style:{overlay:{backgroundColor:"rgba(0, 0, 0, 0.5)"},content:{outline:"none",border:"0",padding:"16px",borderRadius:"8px",width:"240px",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",height:"370px",overflow:"hidden"}},ariaHideApp:!1,onAfterOpen:function(){var e=document.querySelector("#scroll");e&&Object(ln.a)(e)},children:[Object(Be.jsx)(hn,{children:Object(Be.jsx)(jn,{src:sn,onClick:t})}),Object(Be.jsx)(un,{children:"\u8a2d\u7f5d\u81ea\u52d5\u96e2\u958b\u6642\u9593"}),Object(Be.jsx)(xn,{id:"scroll",children:Object(Be.jsx)(pn,{children:[1,2,3,4,5,6,7,8,9,10].map((function(e){return Object(Be.jsxs)(fn,{onClick:function(){d(e)},children:["+ ",e,"\u5c0f\u6642",s===e&&Object(Be.jsx)(gn,{src:dn})]},e)}))})}),Object(Be.jsxs)(On,{children:[Object(Be.jsxs)("div",{children:["\u65bc",c.format("MM-DD HH:mm")," \u9032\u5165\u5834\u6240"]}),Object(Be.jsxs)("div",{children:["\u65bc",l.format("MM-DD HH:mm")," \u81ea\u52d5\u96e2\u958b"]})]}),Object(Be.jsx)(Pe,{onClick:function(){i(s)},children:"\u78ba\u8a8d"})]})},jn=Ae.b.img(h||(h=Object(ze.a)(["\n  height: 20px;\n"]))),hn=Ae.b.div(u||(u=Object(ze.a)(["\n  display: flex;\n  width: 100%;\n  justify-content: flex-end;\n"]))),un=Ae.b.h1(x||(x=Object(ze.a)(["\n  font-size: 20px;\n  text-align: center;\n  margin-top: 20px;\n  margin-bottom: 0;\n"]))),xn=Ae.b.div(p||(p=Object(ze.a)(["\n  overflow: auto;\n  height: 180px;\n  padding: 0 8px;\n"]))),pn=Ae.b.ul(f||(f=Object(ze.a)(["\n  list-style: none;\n  margin: 0;\n  padding: 0;\n"]))),fn=Ae.b.li(O||(O=Object(ze.a)(["\n  line-height: 40px;\n  border-bottom: 1px #eeeeee solid;\n  padding: 0 8px;\n"]))),On=Ae.b.div(g||(g=Object(ze.a)(["\n  font-size: 12px;\n  text-align: center;\n  padding: 16px 0;\n"]))),gn=Ae.b.img(v||(v=Object(ze.a)(["\n  height: 32px;\n  position: relative;\n  float: right;\n  top: 4px;\n"]))),vn=function(e){var n=e.isModalOpen,t=e.onCancel,i=e.onLeaveNow,a=e.onLeaved,c=e.place,o=e.date,r=e.autoLeaveHour,s=0!==r,d=Object(De.useMemo)((function(){return o.add(r,"hour")}),[o,r]);return Object(Be.jsxs)(rn.a,{isOpen:n,onRequestClose:t,style:{overlay:{backgroundColor:"rgba(0, 0, 0, 0.5)"},content:{outline:"none",border:"0",padding:"16px",borderRadius:"8px",width:"240px",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",height:s?"430px":"390px",overflow:"hidden"}},ariaHideApp:!1,children:[Object(Be.jsx)(wn,{children:Object(Be.jsx)(mn,{src:sn,onClick:t})}),Object(Be.jsx)(Cn,{children:"\u4f60\u5df2\u9032\u5165\u5834\u6240"}),Object(Be.jsx)(Sn,{children:c}),Object(Be.jsx)(En,{children:o.format("YYYY-MM-DD HH:mm")}),Object(Be.jsx)(yn,{children:"\u4f60\u73fe\u5728\u8981\u96e2\u958b\u55ce\uff1f"}),s&&Object(Be.jsxs)(Dn,{children:["\u65bc",d.format("MM-DD HH:mm")," \u81ea\u52d5\u96e2\u958b"]}),Object(Be.jsx)(Pe,{onClick:i,children:"\u662f\u7684\uff0c\u6211\u73fe\u5728\u8981\u96e2\u958b"}),Object(Be.jsx)(kn,{onClick:a,children:"\u6211\u73fe\u5df2\u7d93\u96e2\u958b\u4e86"})]})},mn=Ae.b.img(m||(m=Object(ze.a)(["\n  height: 20px;\n"]))),wn=Ae.b.div(w||(w=Object(ze.a)(["\n  display: flex;\n  width: 100%;\n  justify-content: flex-end;\n  margin-bottom: 8px;\n"]))),yn=Ae.b.div(y||(y=Object(ze.a)(["\n  font-size: 20px;\n  text-align: center;\n  margin: 64px 0;\n  font-weight: 500;\n"]))),kn=Object(Ae.b)(Pe)(k||(k=Object(ze.a)(["\n  background-color: #12b188;\n  color: #fff;\n  text-shadow: 0px 1px 2px rgba(0, 0, 0, 0.8);\n"]))),Cn=Ae.b.div(C||(C=Object(ze.a)(["\n  text-align: center;\n  font-size: 16px;\n"]))),En=Ae.b.div(E||(E=Object(ze.a)(["\n  text-align: center;\n  font-size: 14px;\n"]))),Sn=Ae.b.div(S||(S=Object(ze.a)(["\n  color: unset;\n  text-shadow: none;\n  text-align: center;\n  font-size: 28px;\n  font-weight: 500;\n  line-height: 48px;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  overflow: hidden;\n"]))),Dn=Ae.b.div(D||(D=Object(ze.a)(["\n  font-size: 12px;\n  text-align: center;\n  padding: 12px 0;\n"]))),Mn=t(91),In=t.n(Mn),Hn=(t(131),Object(De.forwardRef)((function(e,n){return Object(De.useImperativeHandle)(n,(function(){return{init:function(){var e=document.querySelector(".js-inline-picker");e&&new In.a(e,{inline:!0,rows:2})}}})),Object(Be.jsx)(zn,{children:Object(Be.jsx)("div",{className:"js-inline-picker"})})}))),zn=Ae.b.div(M||(M=Object(ze.a)(["\n  & .picker {\n    font-size: 12px;\n  }\n\n  & .picker-dialog {\n    border: 0;\n  }\n\n  & .picker-cell:before {\n    background-image: unset;\n  }\n\n  & .picker-cell:after {\n    background-image: unset;\n  }\n\n  & .picker-picked {\n    color: unset;\n    border-top: #12b188 1px solid;\n    border-bottom: #12b188 1px solid;\n  }\n\n  & .picker-cell {\n    padding: 0 4px;\n  }\n\n  & .picker-item {\n    padding: 3px 0px;\n  }\n\n  & .picker-cell + .picker-cell {\n    border: 0;\n  }\n"]))),Rn=function(e){var n=e.isModalOpen,t=e.onCancel,i=e.onConfirm,a=Object(De.useRef)(null);return Object(Be.jsxs)(rn.a,{isOpen:n,onRequestClose:t,style:{overlay:{backgroundColor:"rgba(0, 0, 0, 0.5)"},content:{outline:"none",border:"0",padding:"16px",borderRadius:"8px",width:"240px",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",height:"280px",overflow:"hidden"}},ariaHideApp:!1,onAfterOpen:function(){a.current&&a.current.init()},children:[Object(Be.jsx)(Ln,{children:Object(Be.jsx)(An,{src:sn,onClick:t})}),Object(Be.jsx)(Zn,{children:"\u4f60\u662f\u4ec0\u9ebc\u6642\u5019\u96e2\u958b\uff1f"}),Object(Be.jsx)(Un,{children:Object(Be.jsx)(Hn,{ref:a})}),Object(Be.jsx)(Pe,{onClick:i,children:"\u78ba\u8a8d"})]})},An=Ae.b.img(I||(I=Object(ze.a)(["\n  height: 20px;\n"]))),Ln=Ae.b.div(H||(H=Object(ze.a)(["\n  display: flex;\n  width: 100%;\n  justify-content: flex-end;\n"]))),Zn=Ae.b.div(z||(z=Object(ze.a)(["\n  font-size: 20px;\n  text-align: center;\n  margin-top: 24px;\n"]))),Un=Ae.b.div(R||(R=Object(ze.a)(["\n  border-bottom: 1px #eeeeee solid;\n  border-top: 1px #eeeeee solid;\n  padding: 32px 0;\n  margin: 16px 0;\n"]))),Nn=t.p+"static/media/checkbox.4e2450ab.svg",Wn=t.p+"static/media/checkboxChecked.7f6c2da0.svg",qn=t(92),Pn=t(205),Fn=function(e){var n=e.onChange,t=e.checked,i=function(){n(!t)};return qn.isAndroid?Object(Be.jsx)(Yn,{checked:t,onClick:i,color:"primary"}):Object(Be.jsx)(Tn,{src:t?Wn:Nn,onClick:i})},Tn=Ae.b.img(A||(A=Object(ze.a)(["\n  height: 32px;\n  display: inline-block;\n  vertical-align: top;\n  margin: 0 8px;\n"]))),Yn=Object(Ae.b)(Pn.a)(L||(L=Object(ze.a)(["\n  display: inline-block;\n  vertical-align: top;\n  margin: 0 8px !important;\n  padding: 0 !important;\n\n  &.MuiCheckbox-colorPrimary {\n    color: #fff !important;\n  }\n"]))),Gn=t(93),Bn=t.n(Gn),Kn=function(){var e=Object(Ze.g)(),n=Object(Ze.h)(),t=Object(De.useState)(!0),i=Object(Re.a)(t,2),a=i[0],c=i[1],o=Object(De.useState)(4),r=Object(Re.a)(o,2),s=r[0],d=r[1],l=Object(De.useState)(!1),b=Object(Re.a)(l,2),j=b[0],h=b[1],u=Object(De.useState)(!1),x=Object(Re.a)(u,2),p=x[0],f=x[1],O=Object(De.useState)(!1),g=Object(Re.a)(O,2),v=g[0],m=g[1],w=Object(De.useMemo)((function(){return Object(We.a)(new URLSearchParams(n.search).get("place")||"")}),[n.search]);Object(De.useEffect)((function(){w&&!Object(Ne.a)(w)||e.push("/")}),[e,w]);var y=Object(De.useMemo)((function(){return Bn()()}),[]),k=function(){e.push("/")};return Object(Be.jsxs)(Be.Fragment,{children:[Object(Be.jsxs)(Jn,{children:[Object(Be.jsx)(_n,{children:Object(Be.jsx)(Le.b,{to:"/",children:Object(Be.jsx)(Qn,{src:an})})}),Object(Be.jsxs)($n,{children:[Object(Be.jsx)(tt,{children:"\u4f60\u5df2\u9032\u5165\u5834\u6240"}),Object(Be.jsx)(Vn,{children:Object(Be.jsx)(Ke,{value:w||"",readOnly:!0})}),Object(Be.jsx)(it,{children:y.format("YYYY-MM-DD HH:mm")})]}),Object(Be.jsx)(Xn,{children:Object(Be.jsx)(et,{children:Object(Be.jsx)(nt,{src:cn})})}),Object(Be.jsxs)(st,{children:[Object(Be.jsxs)(at,{children:[Object(Be.jsxs)(ct,{children:[Object(Be.jsx)(Fn,{checked:a,onChange:c}),s,"\u5c0f\u6642\u5f8c\u81ea\u52d5\u96e2\u958b"]}),Object(Be.jsx)(ot,{onClick:function(){h(!0)},children:"\u8b8a\u66f4"})]}),Object(Be.jsx)(qe,{shadowed:!0,onClick:function(){f(!0)},children:"\u96e2\u958b"}),Object(Be.jsx)(rt,{children:'\u7576\u4f60\u96e2\u958b\u6642\u8acb\u7dca\u8a18\u6309"\u96e2\u958b"'})]})]}),Object(Be.jsx)(bn,{isModalOpen:j,onCancel:function(){h(!1)},onConfirm:function(e){d(e),h(!1)},selectedAutoLeaveHour:s,date:y}),Object(Be.jsx)(vn,{isModalOpen:p,onCancel:function(){f(!1)},onLeaveNow:k,onLeaved:function(){f(!1),m(!0)},place:w||"",date:y,autoLeaveHour:a?s:0}),Object(Be.jsx)(Rn,{isModalOpen:v,onCancel:function(){m(!1)},onConfirm:k})]})},Jn=Ae.b.div(Z||(Z=Object(ze.a)(["\n  width: 100%;\n  height: 100%;\n  text-shadow: 0px 1px 2px rgba(0, 0, 0, 0.8);\n  display: flex;\n  flex-direction: column;\n  color: #fff;\n"]))),_n=Ae.b.div(U||(U=Object(ze.a)(["\n  width: 100%;\n  display: flex;\n  justify-content: flex-end;\n  flex-shrink: 0;\n"]))),Qn=Ae.b.img(N||(N=Object(ze.a)(["\n  height: 20px;\n  margin: 24px;\n"]))),Vn=Ae.b.div(W||(W=Object(ze.a)(["\n  padding: 0 32px;\n"]))),$n=Ae.b.div(q||(q=Object(ze.a)(["\n  width: 100%;\n  height: 50%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n"]))),Xn=Ae.b.div(P||(P=Object(ze.a)(["\n  height: 100%;\n  width: 100%;\n  text-align: center;\n"]))),et=Ae.b.div(F||(F=Object(ze.a)(["\n  height: 100%;\n  max-height: 200px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n"]))),nt=Ae.b.img(T||(T=Object(ze.a)(["\n  display: inline-block;\n  height: 100%;\n  max-height: 110px;\n"]))),tt=Ae.b.div(Y||(Y=Object(ze.a)(["\n  color: #ffffff;\n  text-align: center;\n  font-size: 15px;\n"]))),it=Ae.b.div(G||(G=Object(ze.a)(["\n  color: #ffffff;\n  text-align: center;\n"]))),at=Ae.b.div(B||(B=Object(ze.a)(["\n  margin-bottom: 16px;\n  width: 100%;\n  max-width: 380px;\n  margin: 16px auto;\n  display: flex;\n  flex-shrink: 0;\n  font-size: 14px;\n"]))),ct=Ae.b.div(K||(K=Object(ze.a)(["\n  width: 100%;\n  text-align: left;\n  padding-left: 24px;\n  line-height: 32px;\n"]))),ot=Ae.b.div(J||(J=Object(ze.a)(["\n  flex-shrink: 0;\n  padding-right: 24px;\n  line-height: 32px;\n"]))),rt=Ae.b.div(_||(_=Object(ze.a)(["\n  text-align: center;\n  padding-bottom: 40px;\n  flex-shrink: 0;\n"]))),st=Ae.b.div(Q||(Q=Object(ze.a)(["\n  width: 100%;\n  flex-shrink: 0;\n"]))),dt=t(94),lt=function(e){if(!e.startsWith("HKEN:"))return"";var n=function(e){if(!e.startsWith("HKEN:"))return null;var n=e.substring(6,14),t=bt(n),i=e.substring(14),a=JSON.parse(decodeURIComponent(escape(window.atob(i))));return console.log({input:e,venueId:n,decodedData:a,computedHash:t,hashMatch:t===a.hash}),a}(e);if(!n)return"";var t=n.nameZh?Object(We.a)(n.nameZh):"";return Object(Ne.a)(t)?n.nameEn:t},bt=function(e){var n="HKEN".concat(e,"2020");return Object(dt.sha256)(n)},jt=function(e){var n=e.typeEn,t=e.typeZh,i=e.nameEn,a=e.nameZh,c=e.type,o=e.venueCode,r=e.venueID,s={metadata:Object(Ne.a)(n)&&Object(Ne.a)(t)?null:{typeEn:n,typeZh:t},nameZh:a,nameEn:i,type:c,hash:bt(r)},d=window.btoa(unescape(encodeURIComponent(JSON.stringify(s))));return"HKEN:".concat(o).concat(r).concat(d)},ht=t.p+"static/media/qrOverlay.185cc3ea.svg",ut=t(95),xt=t.n(ut),pt=t(199),ft=function(e){return"mediaDevices"in navigator||(navigator.mediaDevices={},navigator.mediaDevices.getUserMedia=function(e){var n=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return n?new Promise((function(t,i){n.call(navigator,e,t,i)})):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}),navigator.mediaDevices.getUserMedia(e)},Ot=function(e){var n=e.onDecode,t=Object(De.useRef)(null),i=Object(De.useRef)(null),a=Object(pt.a)((function(){var e=i.current,a=t.current;if(e&&a&&a.readyState===a.HAVE_ENOUGH_DATA){var c=e.getContext("2d");if(!c)return;e.height=a.videoHeight,e.width=a.videoWidth,c.drawImage(a,0,0,e.width,e.height);var o=c.getImageData(0,0,e.width,e.height),r=xt()(o.data,o.width,o.height,{inversionAttempts:"dontInvert"});r&&n(r)}}),!1),c=Object(Re.a)(a,2),o=c[0],r=c[1];return Object(De.useEffect)((function(){var e=t.current;return e&&ft({video:{facingMode:"environment"},audio:!1}).then((function(n){e&&(e.srcObject=n,e.play(),r())})).catch((function(e){alert("Unable to activate camera.\n\n"+e)})),function(){if(o(),e){var n=e.srcObject;if(!n)return;n.getTracks().forEach((function(e){e.stop()})),e.srcObject=null}}}),[r,o,t]),Object(Be.jsxs)(Be.Fragment,{children:[Object(Be.jsx)(gt,{ref:t,playsInline:!0}),Object(Be.jsx)(vt,{ref:i})]})},gt=Ae.b.video(V||(V=Object(ze.a)(["\n  /* Make video to at least 100% wide and tall */\n  min-width: 100%;\n  min-height: 100%;\n\n  /* Setting width & height to auto prevents the browser from stretching or squishing the video */\n  width: auto;\n  height: auto;\n\n  /* Center the video */\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n"]))),vt=Ae.b.canvas($||($=Object(ze.a)(["\n  display: none;\n"]))),mt=t.p+"static/media/back.7bf7a56f.svg",wt=function(e){var n=e.name,t=e.backPath;return Object(Be.jsxs)(kt,{children:[Object(Be.jsx)(Le.b,{to:t,children:Object(Be.jsx)(yt,{src:mt})}),n]})},yt=Ae.b.img(X||(X=Object(ze.a)(["\n  height: 20px;\n  top: 14px;\n  left: 16px;\n  position: absolute;\n"]))),kt=Ae.b.div(ee||(ee=Object(ze.a)(["\n  color: #ffffff;\n  background-color: #12b188;\n  text-align: center;\n  line-height: 48px;\n  text-shadow: 0px 1px 2px rgba(0, 0, 0, 0.8);\n  flex-shrink: 0;\n"]))),Ct=function(){var e=Object(Ze.g)();return Object(Be.jsxs)(Et,{children:[Object(Be.jsx)(wt,{backPath:"/",name:"\u6383\u7784\u4e8c\u7dad\u78bc"}),Object(Be.jsx)(Mt,{children:"\u6383\u7784\u4e8c\u7dad\u78bc"}),Object(Be.jsxs)(St,{children:[Object(Be.jsx)(Dt,{}),Object(Be.jsx)(Ot,{onDecode:function(n){var t=n.data;if(t&&!Object(Ne.a)(t)){var i=lt(t);Object(Ne.a)(i)||e.push({pathname:"/confirm",search:"?place=".concat(i)})}}})]})]})},Et=Ae.b.div(ne||(ne=Object(ze.a)(["\n  width: 100%;\n  height: 100%;\n  text-shadow: 0px 1px 2px rgba(0, 0, 0, 0.8);\n  display: flex;\n  flex-direction: column;\n"]))),St=Ae.b.div(te||(te=Object(ze.a)(["\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  position: relative;\n"]))),Dt=Ae.b.div(ie||(ie=Object(ze.a)(['\n  /* The image used */\n  background-image: url("','");\n\n  /* Full height */\n  height: 100%;\n\n  /* Center and scale the image nicely */\n  background-position: center;\n  background-repeat: no-repeat;\n  background-size: cover;\n\n  z-index: 50;\n  position: relative;\n'])),ht),Mt=Ae.b.div(ae||(ae=Object(ze.a)(["\n  position: absolute;\n  z-index: 51;\n  bottom: 20%;\n  width: 100%;\n  text-align: center;\n  color: #ffffff;\n  font-size: 16px;\n"]))),It=t(165),Ht=t.p+"static/media/plus.abd4712a.svg",zt=function(e){var n=e.onDismiss,t=function(){var e=Object(De.useState)(null),n=Object(Re.a)(e,2),t=n[0],i=n[1];return Object(De.useEffect)((function(){var e=function(e){e.preventDefault(),i(e)},n=function(e){e.preventDefault(),console.log("app installed"),i(null)};return window.addEventListener("beforeinstallprompt",e),window.addEventListener("appinstalled",n),function(){window.removeEventListener("beforeinstallprompt",e),window.removeEventListener("appinstalled",n)}}),[]),[t,function(){return t?t.prompt():Promise.reject(new Error('Tried installing before browser sent "beforeinstallprompt" event'))}]}(),i=Object(Re.a)(t,2),a=i[0],c=i[1],o=Object(De.useCallback)((function(){a&&c()}),[a,c]);return Object(Be.jsxs)(Rt,{children:[Object(Be.jsx)(At,{src:Ht}),Object(Be.jsx)("div",{children:"\u65b0\u589e\u81f3\u4e3b\u756b\u9762\u5148\u5566"}),Object(Be.jsx)("div",{children:"\u5514\u4fc2\u9ede\u4f3c\u500bApp"}),Object(Be.jsxs)(Zt,{children:[Object(Be.jsx)("div",{children:"IOS"}),Object(Be.jsx)("div",{children:"\u7528Safari\u958b=>\u5206\u4eab=>\u65b0\u589e\u81f3\u4e3b\u756b\u9762"}),Object(Be.jsx)("div",{children:"Android"}),Object(Be.jsx)("div",{children:"\u7528Chrome\u958b=>\u53f3\u4e0a\u9078\u9805=>\u65b0\u589e\u81f3\u4e3b\u756b\u9762/\u5b89\u88dd\u61c9\u7528\u7a0b\u5f0f"}),a&&Object(Be.jsx)(Lt,{children:Object(Be.jsx)(It.a,{variant:"contained",onClick:o,children:"\u5b89\u88dd"})})]}),Object(Be.jsx)("div",{children:Object(Be.jsx)(It.a,{variant:"contained",onClick:n,children:"\u6211\u77e5\u6211\u505a\u7dca\u4e5c\uff0c\u4ffe\u6211\u5165\u53bb"})})]})},Rt=Ae.b.div(ce||(ce=Object(ze.a)(["\n  display: flex;\n  width: 100%;\n  height: 100%;\n  justify-content: center;\n  vertical-align: middle;\n  flex-direction: column;\n  text-align: center;\n  color: #fff;\n"]))),At=Ae.b.img(oe||(oe=Object(ze.a)(["\n  width: 100px;\n  margin: 0 auto 32px auto;\n"]))),Lt=Ae.b.div(re||(re=Object(ze.a)(["\n  margin-top: 12px;\n"]))),Zt=Ae.b.div(se||(se=Object(ze.a)(["\n  font-size: 12px;\n  margin: 24px 0;\n"]))),Ut=t(70),Nt=t(201),Wt=t(202),qt=t(203),Pt=t(200),Ft=t(206),Tt=t(58),Yt=t.p+"static/media/baseIcon.aa0e0793.png",Gt=t(207),Bt=t(69),Kt=t.n(Bt),Jt=function(e){var n=e.data,t=e.onLeave,i=Object(De.useRef)(null);return Object(De.useEffect)((function(){if(i.current){var e=jt(n);new Tt.a({image:i.current,content:e,width:380,logo:{src:n.customImg||Yt,logoRadius:8,borderSize:0}}).toImage()}}),[n]),n?Object(Be.jsxs)(_t,{children:[Object(Be.jsx)(Qt,{children:Object(Be.jsx)(Vt,{src:an,onClick:t})}),Object(Be.jsx)(ei,{children:Object(Be.jsxs)(Xt,{children:[n.nameEn&&!Object(Ne.a)(n.nameZh)&&Object(Be.jsx)($t,{value:n.nameZh||"",readOnly:!0}),n.nameEn&&!Object(Ne.a)(n.nameEn)&&Object(Be.jsx)($t,{value:n.nameEn||"",readOnly:!0})]})}),Object(Be.jsx)(ni,{children:Object(Be.jsx)(ti,{children:Object(Be.jsx)(ii,{ref:i,alt:"qrCode"})})}),Object(Be.jsxs)(ai,{children:[n.addressZh&&!Object(Ne.a)(n.addressZh)&&Object(Be.jsx)("div",{children:n.addressZh}),n.addressEn&&!Object(Ne.a)(n.addressEn)&&Object(Be.jsx)("div",{children:n.addressEn})]})]}):Object(Be.jsx)(Be.Fragment,{})},_t=Ae.b.div(de||(de=Object(ze.a)(["\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  color: #fff;\n  background-color: #12b188;\n  position: absolute;\n"]))),Qt=Ae.b.div(le||(le=Object(ze.a)(["\n  width: 100%;\n  display: flex;\n  justify-content: flex-end;\n  flex-shrink: 0;\n"]))),Vt=Ae.b.img(be||(be=Object(ze.a)(["\n  height: 20px;\n  margin: 24px;\n"]))),$t=Object(Ae.b)(Ke)(je||(je=Object(ze.a)(["\n  font-size: 20px;\n  line-height: 20px;\n  text-shadow: none;\n"]))),Xt=Ae.b.div(he||(he=Object(ze.a)(["\n  padding: 0 32px;\n"]))),ei=Ae.b.div(ue||(ue=Object(ze.a)(["\n  width: 100%;\n  height: 50%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n"]))),ni=Ae.b.div(xe||(xe=Object(ze.a)(["\n  height: 100%;\n  width: 100%;\n  text-align: center;\n"]))),ti=Ae.b.div(pe||(pe=Object(ze.a)(["\n  height: 100%;\n  max-height: 280px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n"]))),ii=Ae.b.img(fe||(fe=Object(ze.a)(["\n  display: inline-block;\n  height: 100%;\n  max-height: 300px;\n  margin: 0 auto;\n"]))),ai=Ae.b.div(Oe||(Oe=Object(ze.a)(["\n  width: 100%;\n  height: 50%;\n  text-align: center;\n"]))),ci=function(){var e=Object(De.useRef)(null),n=Me.a.useRef(null),t=Object(De.useState)(!1),i=Object(Re.a)(t,2),a=i[0],c=i[1],o=Object(De.useState)(null),r=Object(Re.a)(o,2),s=r[0],d=r[1],l=Object(Pt.a)({typeEn:"Stores/Shopping Malls",typeZh:"\u5546\u5e97/\u5546\u5834",nameEn:"CityWalk",nameZh:"\u8343\u65b0\u5929\u5730",type:"IMPORT",venueCode:"0",venueID:"WHBvLDSa",addressEn:"1 & 18 Yeung Uk Rd, Tsuen Wan, Hong Kong",addressZh:"\u8343\u7063\u694a\u5c4b\u90531\u865f",customImg:null}),b=Object(Re.a)(l,2),j=b[0],h=b[1],u=1===j.venueCode.length,x=8===j.venueID.length,p=u&&x;Object(Ft.a)((function(){var e=document.querySelector("#scroll");e&&Object(ln.a)(e)})),Object(De.useEffect)((function(){if(e.current&&p){var n=jt(j),t=new Tt.a({image:e.current,content:n,width:380,logo:{src:j.customImg||Yt,logoRadius:8,borderSize:0}});t.toImage(),d(t)}}),[j,p]);return Object(Be.jsxs)(oi,{children:[Object(Be.jsx)(wt,{backPath:"/",name:"\u751f\u6210\u4e8c\u7dad\u78bc"}),Object(Be.jsxs)(ri,{id:"scroll",children:[Object(Be.jsxs)(si,{children:[Object(Be.jsx)(di,{label:"\u5834\u6240\u7a2e\u985e(\u4e2d\u6587) (typeZh)",value:j.typeZh,onChange:function(e){h({typeZh:e.target.value})}}),Object(Be.jsx)(di,{label:"\u5834\u6240\u7a2e\u985e(\u82f1\u6587) (typeEn)",value:j.typeEn,onChange:function(e){h({typeEn:e.target.value})}}),Object(Be.jsx)(di,{label:"\u5834\u6240\u540d\u5b57(\u4e2d\u6587) (nameZh)",value:j.nameZh,onChange:function(e){h({nameZh:e.target.value})}}),Object(Be.jsx)(di,{label:"\u5834\u6240\u540d\u5b57(\u82f1\u6587) (nameEn)",value:j.nameEn,onChange:function(e){h({nameEn:e.target.value})}}),Object(Be.jsx)(di,{label:"\u5834\u6240\u5730\u5740(\u4e2d\u6587) (\u9810\u89bd\u7528)",value:j.addressZh,onChange:function(e){h({addressZh:e.target.value})}}),Object(Be.jsx)(di,{label:"\u5834\u6240\u5730\u5740(\u82f1\u6587) (\u9810\u89bd\u7528)",value:j.addressEn,onChange:function(e){h({addressEn:e.target.value})}}),Object(Be.jsx)(di,{label:"\u985e\u578b",value:j.type,onChange:function(e){h({type:e.target.value})}}),Object(Be.jsx)(di,{label:"\u5834\u5730\u7de8\u78bc (\u5514\u77e5\u5514\u597d\u641e)",value:j.venueCode,onChange:function(e){h({venueCode:e.target.value})},error:!u,inputProps:{maxLength:1}}),Object(Be.jsx)(di,{label:"\u5834\u5730ID (\u5514\u77e5\u5514\u597d\u641e)",value:j.venueID,onChange:function(e){h({venueID:e.target.value})},error:!x,inputProps:{maxLength:8}}),Object(Be.jsxs)(li,{children:[Object(Be.jsx)("div",{children:"\u81ea\u5b9aIcon"}),Object(Be.jsx)(bi,{type:"file",name:"avatar",accept:"image/png, image/jpeg",ref:n,onChange:function(e){var n=Array.from(e.target.files||[]),t=Object(Gt.a)(n);if(t){var i=new FileReader;i.readAsDataURL(t),i.onload=function(){return h({customImg:String(i.result)})}}else h({customImg:null})}})]})]}),Object(Be.jsx)(Ue.a,{}),Object(Be.jsx)(hi,{children:Object(Be.jsxs)(Nt.a,{"aria-label":"outlined primary button group",children:[Object(Be.jsx)(It.a,{variant:"contained",size:"small",startIcon:Object(Be.jsx)(Kt.a,{}),onClick:function(){s&&s.downloadImage("QR Code")},disabled:!p,children:"\u5132\u5b58"}),Object(Be.jsx)(It.a,{variant:"contained",size:"small",startIcon:Object(Be.jsx)(Kt.a,{}),onClick:function(){c(!0)},disabled:!p,children:"\u9810\u89bd"})]})}),Object(Be.jsx)(ji,{ref:e,alt:"qrCode"})]}),a&&Object(Be.jsx)(Jt,{data:j,onLeave:function(){c(!1)}})]})},oi=Ae.b.div(ge||(ge=Object(ze.a)(["\n  width: 100%;\n  height: 100%;\n  background-color: #fff;\n  display: flex;\n  flex-direction: column;\n"]))),ri=Ae.b.div(ve||(ve=Object(ze.a)(["\n  width: 100%;\n  height: 100%;\n  overflow: auto;\n"]))),si=Object(Ae.b)(Wt.a)(me||(me=Object(ze.a)(["\n  padding: 8px 16px;\n"]))),di=Object(Ae.b)(qt.a)(we||(we=Object(ze.a)(["\n  &.MuiFormControl-root {\n    margin-top: 8px;\n  }\n"]))),li=Ae.b.div(ye||(ye=Object(ze.a)(["\n  font-size: 12px;\n  padding: 4px 0;\n  color: rgba(0, 0, 0, 0.54);\n"]))),bi=Ae.b.input(ke||(ke=Object(ze.a)(["\n  padding: 4px 0;\n"]))),ji=Ae.b.img(Ce||(Ce=Object(ze.a)(["\n  width: 100%;\n"]))),hi=Ae.b.div(Ee||(Ee=Object(ze.a)(["\n  margin-top: 16px;\n  display: flex;\n  justify-content: center;\n"])));var ui=function(){var e=Object(De.useState)(!(window.matchMedia("(display-mode: standalone)").matches||/\bmode=standalone\b/.test(window.location.hash)||"localhost"===window.location.hostname)),n=Object(Re.a)(e,2),t=n[0],i=n[1];return Object(De.useEffect)((function(){console.log(Ut.a.browserDetails.browser,Ut.a.browserDetails.version)}),[]),Object(De.useEffect)((function(){var e=document.querySelector("#root");e&&Object(ln.a)(e)}),[]),Object(Be.jsxs)(Be.Fragment,{children:[Object(Be.jsx)(xi,{}),t?Object(Be.jsx)(zt,{onDismiss:function(){i(!1)}}):Object(Be.jsx)(Le.a,{basename:"/",children:Object(Be.jsxs)(Ze.d,{children:[Object(Be.jsx)(Ze.b,{exact:!0,path:"/",children:Object(Be.jsx)(_e,{})}),Object(Be.jsx)(Ze.b,{exact:!0,path:"/qrReader",children:Object(Be.jsx)(Ct,{})}),Object(Be.jsx)(Ze.b,{exact:!0,path:"/qrGenerator",children:Object(Be.jsx)(ci,{})}),Object(Be.jsx)(Ze.b,{exact:!0,path:"/confirm",children:Object(Be.jsx)(Kn,{})}),Object(Be.jsx)(Ze.a,{to:"/"})]})})]})},xi=Object(Ae.a)(Se||(Se=Object(ze.a)(["\nhtml {\n  width: 100%;\n  height: 100%;\n}\n\nbody {\n  margin: 0;\n  font-family: Noto Sans, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',\n    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',\n    sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  background-color:#12b188;\n  width: 100%;\n  height: 100%;\n}\n\ntextarea{\n  font-family: Noto Sans, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',\n    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',\n    sans-serif;\n}\n\n\n#root {\n  width: 100%;\n  height: 100%;\n}\n\na {\n  text-decoration: none;\n}\n"]))),pi=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var fi=!1;function Oi(e,n){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),confirm("A new version available. Do you to update it by reloading the pages ?")&&t.postMessage({type:"SKIP_WAITING"}),n&&n.onUpdate&&n.onUpdate(e)):(console.log("Content is cached for offline use."),n&&n.onSuccess&&n.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)})),navigator.serviceWorker.addEventListener("controllerchange",(function(){fi||(fi=!0,window.location.reload())}))}He.a.render(Object(Be.jsx)(Me.a.StrictMode,{children:Object(Be.jsx)(ui,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL(".",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var n="".concat(".","/service-worker.js");pi?(!function(e,n){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(t){var i=t.headers.get("content-type");404===t.status||null!=i&&-1===i.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Oi(e,n)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(n,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):Oi(n,e)}))}}()}},[[163,1,2]]]);
//# sourceMappingURL=main.b2211950.chunk.js.map